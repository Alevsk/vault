<div class="action-block is-rounded">
  <div class="action-block-info">
    <h4 class="title is-5 is-marginless">
      Disable Replication
    </h4>
    <p>
      Disable {{replicationDisplayMode}} Replication entirely on the cluster.
    </p>
  </div>

  <div class="action-block-action">
    <button
      class="button is-danger"
      onclick={{action (mut isModalActive) true}}
      data-test-replication-action-trigger
    >
      Disable Replication
    </button>
  </div>
</div>

<ConfirmationModal
  @title="Disable Replication?"
  @onClose={{action (mut isModalActive) false}}
  @isActive={{isModalActive}}
  @confirmText={{if (eq replicationDisplayMode "DR") "Disaster Recovery" replicationDisplayMode}}
  @toConfirm="disabling {{replicationDisplayMode}} replication on this cluster"
  @onConfirm={{action
    "onSubmit"
    "disable"
    (if
      (eq model.replicationAttrs.modeForUrl 'bootstrapping')
      mode
      model.replicationAttrs.modeForUrl
    )
  }}
>
  <p>
    Disabling Performance replication entirely on this secondary cluster means that:
  </p>
  <ul class="bullet">
    <li>We will wipe the underlying storage of this secondary when connected to a primary</li>
    <li>Re-enabling this node will change its cluster ID</li>
  </ul>
  <AlertInline
    @type="danger"
    @message="Caution: re-enabling this node as a primary or secondary will change its cluster ID."
  />
</ConfirmationModal>
